!function(t){"use strict";function n(t,i){for(var o in i)i[o]instanceof Array?t[o]=i[o].concat(t[o]||[]):-1!==["number","boolean","string"].indexOf(typeof i[o])?t.hasOwnProperty(o)||(t[o]=i[o]):(t[o]=t[o]||{},n(t[o],i[o]));return t}function i(t,n){for(var i in n)"init"!==i&&"__"!==i.substr(0,2)&&(t[i]=n[i]);return t}function o(t,n){return n.forEach(function(n){i(t,n())}),t}function e(t,i){t instanceof Function&&(i=t,t=[]);var r,s=Object.create(this),c={};return o(s,t||[]),i&&i(s,this,c),s.__meta__=n(c,this.__meta__),s.__base__=this,r=function(){var t=Object.create(s);return t.init.apply(t,arguments),t},r.__prototype__=s,r.__meta__=s.__meta__,r.extend=e.bind(s),r}var r=Object.create({});r.init=function(){},r.__meta__={},r.extend=e,t.Protoplast=r}(this),function(t){function n(t,n,i){var o=t[n];t[n]=function(){i.before&&i.before.apply(this,arguments);var t=o.apply(this,arguments);return i.after&&(t=i.after.apply(this,arguments)),t}}var i=t.Protoplast,o=i.extend(function(t){t.init=function(t){this.aop_proto=t.__prototype__},t.aop=function(t,i){t instanceof Array||(t=[t]),t.forEach(function(t){n(this.aop_proto,t,i)},this)}});t.ProtoplastExt=t.ProtoplastExt||{},t.ProtoplastExt.Aop=o}(window),function(t){"use strict";var n=t.Protoplast,i=n.extend(function(t){t.dispatch=function(t,n){this._topics=this._topics||{},(this._topics[t]||[]).forEach(function(t){t.handler.call(t.context,n)})},t.on=function(t,n,i){this._topics=this._topics||{},this._topics[t]=this._topics[t]||[],this._topics[t].push({handler:n,context:i})},t.off=function(t,n,i){this._topics=this._topics||{},this._topics[t]=this._topics[t].filter(function(t){return n?t.handler!==n:t.context!==i})}});t.ProtoplastExt=t.ProtoplastExt||{},t.ProtoplastExt.Dispatcher=i}(this),function(t){var n=t.ProtoplastExt.Dispatcher,i=Protoplast.extend(function(t){t._objects=null,t.init=function(){var t=this;this._objects={pub:function(n,i){t._dispatcher.dispatch(n,i)},sub:function(n){var i=this;return{add:function(o){t._dispatcher.on(n,o,i)},remove:function(o){t._dispatcher.off(n,o,i)}}}},this._dispatcher=n()},t.register=function(t,n){1==arguments.length?n=t:this._objects[t]=n,n.__fastinject__=function(t){this.register(t),t.injected instanceof Function&&t.injected()}.bind(this),this.inject(n,n.__meta__.inject)},t.inject=function(t,n){var i,o=this;for(var e in n)i=n[e],function(n){Object.defineProperty(t,e,{get:function(){return o._objects[n]}})}(i)},t.build=function(){Object.keys(this._objects).forEach(function(t){var n=this._objects[t];n.injected instanceof Function&&n.injected()}.bind(this))}});t.ProtoplastExt=t.ProtoplastExt||{},t.ProtoplastExt.Context=i}(window),function(t){var n=t.Protoplast,i=n.extend(function(t){t.init=function(){this._children=[],this.root=document.createElement(this.__meta__.tag||"div")},t.create=function(){},t.destroy=function(){this._children.forEach(function(t){this.remove(t)},this)},t.injected=function(){this.create()},t.add=function(t){this._children.push(t),this.__fastinject__(t),this.root.appendChild(t.root)},t.remove=function(t){var n=this._children.indexOf(t);-1!==n&&(this._children.splice(n,1),this.root.removeChild(t.root),t.destroy())}});i.Root=function(t,n){var o=i();return o.root=t,n.register(o),o},t.ProtoplastExt=t.ProtoplastExt||{},t.ProtoplastExt.Component=i}(window);