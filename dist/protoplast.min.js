!function(t){"use strict";function o(t,n){for(var i in n)n[i]instanceof Array?t[i]=n[i].concat(t[i]||[]):-1!==["number","boolean","string"].indexOf(typeof n[i])?t.hasOwnProperty(i)||(t[i]=n[i]):(t[i]=t[i]||{},o(t[i],n[i]));return t}function n(t,o){for(var n in o)"__"!==n.substr(0,2)&&(t[n]=o[n]);return t}function i(t,o){return o.forEach(function(o){n(t,o.prototype)}),t}function e(t,o){var n,i,e,r;o.forEach(function(o){var s=o.prototype;for(var c in s)if(s.hasOwnProperty(c)&&"function"==typeof s[c]&&(n=t[c],i="function"==typeof t[c],e=i&&t[c].length===s[c].length,!n||!i||!e))throw r="Prototype "+t.__meta__.name+" should implement method "+c+" with "+s[c].length+" param(s), ",n||(r+=c+" not found in the prototype"),n&&!i&&(r+=c+" is not a function"),n&&i&&!e&&(r+=t[c].length+" param(s) found"),new Error(r)})}function r(t){for(var o in t)this.prototype[o]=t[o];return this}function s(t){return this.prototype.__meta__=o(t,this.base.__meta__),this.__meta__=this.prototype.__meta__,this}function c(t){return e(this.prototype,t),this}var a=function(){};a.extend=function(t,o){var n=this;return t instanceof Function&&(o=t,t=[]),o=o||function(){n.apply(this,arguments)},t=t||[],o.prototype=Object.create(n.prototype),o.base=n.prototype,i(o.prototype,t),o.extend=a.extend.bind(o),o.define=r,o.meta=s,o.impl=c,o.meta({}),o},a.prototype.__meta__={},t.Protoplast=a}(this),function(t){function o(t,o,n){var i=t[o];if(!t[o])throw Error("Can't create aspect for method "+o+". Method does not exist.");t[o]=function(){n.before&&n.before.apply(this,arguments);var t=i.apply(this,arguments);return n.after&&(t=n.after.call(this,t,arguments)),t}}var n=(t.Protoplast,function(t){return{aop:function(n,i){return n instanceof Array||(n=[n]),n.forEach(function(n){o(t.prototype,n,i)},this),this}}});t.ProtoplastExt=t.ProtoplastExt||{},t.ProtoplastExt.Aop=n}(window),function(t){"use strict";var o=t.Protoplast,n=o.extend().define({dispatch:function(t,o){this._topics=this._topics||{},(this._topics[t]||[]).forEach(function(t){t.handler.call(t.context,o)})},on:function(t,o,n){this._topics=this._topics||{},this._topics[t]=this._topics[t]||[],this._topics[t].push({handler:o,context:n})},off:function(t,o,n){this._topics=this._topics||{},this._topics[t]=this._topics[t].filter(function(t){return o?t.handler!==o:t.context!==n})}});t.ProtoplastExt=t.ProtoplastExt||{},t.ProtoplastExt.Dispatcher=n}(this),function(t){var o=t.ProtoplastExt.Dispatcher,n=Protoplast.extend(function(){var t=this;this._objects={pub:function(o,n){t._dispatcher.dispatch(o,n)},sub:function(o){var n=this;return{add:function(i){t._dispatcher.on(o,i,n)},remove:function(i){t._dispatcher.off(o,i,n)}}}},this._dispatcher=new o}).define({_objects:null,register:function(t,o){1==arguments.length?o=t:this._objects[t]=o,o.__fastinject__=function(t){this.register(t),t.injected instanceof Function&&t.injected()}.bind(this),this.inject(o,o.__meta__.inject)},inject:function(t,o){var n,i=this;for(var e in o)n=o[e],function(o){Object.defineProperty(t,e,{get:function(){return i._objects[o]}})}(n)},build:function(){Object.keys(this._objects).forEach(function(t){var o=this._objects[t];o.injected instanceof Function&&o.injected()}.bind(this))}});t.ProtoplastExt=t.ProtoplastExt||{},t.ProtoplastExt.Context=n}(window),function(t){var o=t.Protoplast,n=o.extend(function(){this._children=[],this.root=document.createElement(this.__meta__.tag||"div")}).define({create:function(){},destroy:function(){this._children.forEach(function(t){this.remove(t)},this)},injected:function(){this.create()},add:function(t){this._children.push(t),this.__fastinject__(t),this.root.appendChild(t.root)},remove:function(t){var o=this._children.indexOf(t);-1!==o&&(this._children.splice(o,1),this.root.removeChild(t.root),t.destroy())}});n.Root=function(t,o){var i=new n;return i.root=t,o.register(i),i},t.ProtoplastExt=t.ProtoplastExt||{},t.ProtoplastExt.Component=n}(window);