!function(t){"use strict";function e(t,n){for(var i in n)n.hasOwnProperty(i)&&(n[i]instanceof Array?t[i]=n[i].concat(t[i]||[]):-1!==["number","boolean","string"].indexOf(typeof n[i])?t.hasOwnProperty(i)||(t[i]=n[i]):(t[i]=t[i]||{},e(t[i],n[i])));return t}function n(t,e){for(var n in e)e.hasOwnProperty(n)&&"__"!==n.substr(0,2)&&(t[n]=e[n]);return t}function i(t,e){return e.forEach(function(e){n(t,e)}),t}function o(t,e){return function(){var n=t.create.apply(this,arguments);return e.apply(n,arguments),n}}var r={$meta:{},create:function(){return Object.create(this)}};r.extend=function(t,n){var r,s,c,a=Object.create(this);t instanceof Array||(n=t,t=[]),n=n||{},t=t||[],r=n.$meta||{},delete n.$meta,void 0!==n.$create&&(a.create=o(this,n.$create),delete n.$create),a=i(a,t);for(var h in n){if(c=!1,"[object Object]"!==Object.prototype.toString.call(n[h]))c=!0,s={value:n[h],writable:!0,enumerable:!0};else{s=n[h];for(var u in s)-1===["value","get","set","writable","enumerable"].indexOf(u)?(r[u]=r[u]||{},r[u][h]=s[u],delete s[u]):c=!0}c&&Object.defineProperty(a,h,s)}return a.$meta=e(r,this.$meta),a},t.Protoplast=r}(this),function(t){function e(t,e,n){var i=t[e];if(!t[e])throw Error("Can't create aspect for method "+e+". Method does not exist.");t[e]=function(){n.before&&n.before.apply(this,arguments);var t=i.apply(this,arguments);return n.after&&(t=n.after.call(this,t,arguments)),t}}var n=function(t){return{aop:function(n,i){return n instanceof Array||(n=[n]),n.forEach(function(n){e(t,n,i)},this),this}}};t.ProtoplastExt=t.ProtoplastExt||{},t.ProtoplastExt.Aop=n}(window),function(t){"use strict";var e=t.Protoplast,n=e.extend({dispatch:function(t,e){this._topics=this._topics||{},(this._topics[t]||[]).forEach(function(t){t.handler.call(t.context,e)})},on:function(t,e,n){this._topics=this._topics||{},this._topics[t]=this._topics[t]||[],this._topics[t].push({handler:e,context:n})},off:function(t,e,n){this._topics=this._topics||{},this._topics[t]=this._topics[t].filter(function(t){return e?t.handler!==e:t.context!==n})}});t.ProtoplastExt=t.ProtoplastExt||{},t.ProtoplastExt.Dispatcher=n}(this),function(t){var e=t.ProtoplastExt.Dispatcher,n=Protoplast.extend({$create:function(){var t=this;this._objects={pub:function(e,n){t._dispatcher.dispatch(e,n)},sub:function(e){var n=this;return{add:function(i){t._dispatcher.on(e,i,n)},remove:function(i){t._dispatcher.off(e,i,n)}}}},this._dispatcher=e.create()},_objects:null,register:function(t,e){1==arguments.length?e=t:this._objects[t]=e,e.__fastinject__=function(t){this.register(t),this.process(t)}.bind(this),this.inject(e,e.$meta.inject)},process:function(t){t.$meta&&t.$meta.inject_init&&Object.keys(t.$meta.inject_init).forEach(function(e){t[e]()},this),t.$meta&&t.$meta.sub&&Object.keys(t.$meta.sub).forEach(function(e){this._objects.sub.call(t,t.$meta.sub[e]).add(t[e])},this)},inject:function(t,e){var n,i=this;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],function(e){Object.defineProperty(t,o,{get:function(){return i._objects[e]}})}(n))},build:function(){Object.keys(this._objects).forEach(function(t){var e=this._objects[t];this.process(e)}.bind(this))}});t.ProtoplastExt=t.ProtoplastExt||{},t.ProtoplastExt.Context=n}(window),function(t){var e=t.Protoplast,n=e.extend({$create:function(){this._children=[],this.root=document.createElement(this.tag||"div")},init:{inject_init:!0,value:function(){}},destroy:function(){this._children.forEach(function(t){this.remove(t)},this)},add:function(t){this._children.push(t),this.__fastinject__(t),this.root.appendChild(t.root)},remove:function(t){var e=this._children.indexOf(t);-1!==e&&(this._children.splice(e,1),this.root.removeChild(t.root),t.destroy())}});n.Root=function(t,e){var i=n.create();return i.root=t,e.register(i),i},t.ProtoplastExt=t.ProtoplastExt||{},t.ProtoplastExt.Component=n}(window);